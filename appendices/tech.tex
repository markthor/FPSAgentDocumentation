%!TEX root = ../preamble.tex

\section{Technical Description}
Bla bla bla

\subsection{Hardware used for training}
\label{sub:hardware}
All training of the CNN was done on a server, at the IT University of Copenhagen, with the following specs:

\begin{description}
	\item [CPU] Intel\textsuperscript{\textregistered} Core\textsuperscript{\texttrademark} i7-5820K
	\item [GPU] 2x GeForce\textsuperscript{\textregistered} GTX TITAN X
	\item [RAM] 32 GB HyperX Fury DDR4 2400 C15
\end{description}	

\noindent
Each training experiment was done using one of the GPUs and up to 12 GB of RAM allowing for two simultaneous runs.

\subsection{Communication between the action inferring component and the visual recognising component}
The game used throughout the project was made using the game engine Unity, where it is possible to interface with the game using either C\#, JavaScript, Boo or Unity Script. Since the game has to send the pixel data to a CNN to obtain the inputs for the AIC, the easiest option would be to implement the VRC in one of the languages supported by Unity.

Unfortunately we were unable to find a framework suitable for our needs, why we decided to look for frameworks in other languages. Java is the language we are most comfortable in, why we decided to use a Java framework, called DeepLearning4J(DL4J)\footnote{\url{https://deeplearning4j.org/}}.

Neither of the languages used to interface with the game can natively communicate with Java. In order to allow communication between the VRC and the AIC a simple socket bridge was implemented. The overhead introduced by this bridge is minimal as it is possible to send the required data back and forth 10,000 times in approximately three seconds.

\section{Incorrect predictions}
\label{sec:incorrectpredictions}
The following examples are incorrect predictions by the deep visual partitioning convolutional neural network. The green squares mark the ground truths, and the red squares mark the wrong predictions. Absence of either the red or the green square means that either the the prediction  or the ground truth is that no target is present on the screen.

\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\def\svgwidth{0.95\textwidth}
		\input{img/failcollection1.pdf_tex}
	\end{scriptsize}
	\label{fig:failcollection1}
	\end{center}
\end{figure}


\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\def\svgwidth{0.95\textwidth}
		\input{img/failcollection2.pdf_tex}
	\end{scriptsize}
	\label{fig:failcollection2}
	\end{center}
\end{figure}

\section{Angular representation error}
\label{sec:angular-error}
\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\def\svgwidth{1\textwidth}
		\input{img/angularError.pdf_tex}
	\end{scriptsize}
	\label{fig:angularerror}
	\caption[AR mean error visualised]{The blue box marks the average error margins for horizontal and vertical angles for the deep CNN without visual distortion, while the red box marks the same error for the shallow CNN.}
	\end{center}
\end{figure}

\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\def\svgwidth{0.9\textwidth}
		\input{img/aecollection1.pdf_tex}
	\end{scriptsize}
	\label{fig:aecollection}
	\caption[AR error examples visualised]{The green dot marks the correct position and the red dot marks the estimated position using the deep network.}
	\end{center}
\end{figure}

\section{Visually distorted examples}
\label{sec:vdexamples}
\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\input{img/vd1.pdf_tex}
	\end{scriptsize}
	\label{fig:vd1}
	\caption[Visually distorted example]{The deep CNN estimating the VPR correctly predicts the class(id 0) with a confidence of 71.9\%.}
	\end{center}
\end{figure}

\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\input{img/vd2.pdf_tex}
	\end{scriptsize}
	\label{fig:vd2}
	\caption[Visually distorted example]{The deep CNN estimating the VPR correctly predicts the class(id 4) with a confidence of 78.0\%.}
	\end{center}
\end{figure}

\begin{figure}[H]
	\begin{center}
	\begin{scriptsize}
		\sffamily
		\input{img/vd3.pdf_tex}
	\end{scriptsize}
	\label{fig:vd3}
	\caption[Visually distorted example]{The deep CNN estimating the VPR incorrectly predicts the class(id 2) with a confidence of 58.9\%. The correct class has id 4.}
	\end{center}
\end{figure}

\section{Figures}

\begin{figure}[H]
	\begin{scriptsize}
		\sffamily
		\def\svgwidth{\textwidth}
		\input{img/grid.pdf_tex}
	\end{scriptsize}
	\caption{Ids of the 3, 3, 3 partitioning scheme}
	\label{fig:ids}
\end{figure}






